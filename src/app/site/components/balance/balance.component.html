<nb-card accent="info">
  <nb-card-header>
    <h3>
      MPK Balance Account
    </h3>
  </nb-card-header>
  <nb-card-body>
    With MPK account, you can conveniently charge the balance
    using the integrated credit card.
  </nb-card-body>
</nb-card>

<div class="steppers-container row">
  <div class="col-md-12">
    <nb-card>
      <nb-card-body>
        <form #balanceForm="ngForm">
          <div>
            <div class="text-center">
              <nb-alert outline="info">
                <h2>Current balance: € {{currentBalance}}</h2>
              </nb-alert>
            </div>

            <div class="form-control-group row justify-content-center">
              <div class="col-sm-12 col-md-10 col-lg-8">
                <div class="d-flex font-weight-bold my-3 shadow">
                  <div class="input-group-prepend">
                    <span class="input-group-text input-balance">€</span>
                  </div>
                  <input type="number" nbInput fieldSize="large" (change)="onChange()" [(ngModel)]="balance"
                    #balanceVisitor="ngModel" name="balance" pattern="[0-9]+" placeholder="Add Balance" autofocus
                    [status]="balanceVisitor.dirty ? (balanceVisitor.invalid  ? 'danger' : 'success') : ''"
                    [attr.aria-invalid]="balanceVisitor.invalid && balanceVisitor.touched ? true : null"
                    class="form-control input-balance" aria-label="Amount (to the nearest euro)" required>
                  <div class="input-group-append">
                    <span class="input-group-text input-balance">.00</span>
                  </div>
                </div>
                <nb-alert status="disabled" accent="danger" class="text-danger"
                  *ngIf="balanceVisitor.invalid && balanceVisitor.touched">
                  <p class="error-message" *ngIf="balanceVisitor.errors?.pattern">
                    Please enter vaild balance!
                  </p>
                </nb-alert>
              </div>
            </div>

            <div class="paymentCont py-3">
              <div class="headingWrap">
                <h3 class="headingTop text-center">Select Your Payment Method</h3>
              </div>
              <div class="paymentWrap py-3">
                <div class="btn-group paymentBtnGroup btn-group-justified" data-toggle="buttons">
                  <label class="btn paymentMethod active">
                    <div class="method visa"></div>
                    <input type="radio" name="options" checked>
                  </label>
                  <label class="btn paymentMethod">
                    <div class="method master-card"></div>
                    <input type="radio" name="options">
                  </label>
                  <label class="btn paymentMethod">
                    <div class="method amex"></div>
                    <input type="radio" name="options">
                  </label>
                  <label class="btn paymentMethod">
                    <div class="method vishwa"></div>
                    <input type="radio" name="options">
                  </label>
                </div>
              </div>
            </div>

            <div class="input-group my-3">
              <button class="btn-block btn btn-outline-success" style="font-size: 2rem;" (click)="onSubmit()"
                [disabled]="!balanceForm.valid && !balanceForm.valid ? !balanceForm.valid : (balance === user.balance)">Transfer</button>
            </div>
          </div>
        </form>
      </nb-card-body>
    </nb-card>
  </div>
</div>